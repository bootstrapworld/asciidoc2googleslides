{"version":3,"sources":["../../src/images/svg.ts"],"names":["debug","tmp","setGracefulCleanup","renderSVG","image","path","tmpName","postfix","buffer","Buffer","from","source","density","png","toFile"],"mappings":";;;;;;;AAaA;;AACA;;AACA;;;;AAfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA,MAAMA,KAAK,GAAG,oBAAM,YAAN,CAAd;;AACAC,oBAAIC,kBAAJ;;AAEA,eAAeC,SAAf,CAAyBC,KAAzB,EAAiD;AAC7CJ,EAAAA,KAAK,CAAC,gBAAD,EAAmBI,KAAnB,CAAL;AACA,MAAIC,IAAI,GAAG,MAAMJ,oBAAIK,OAAJ,CAAY;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAAZ,CAAjB;AACA,MAAIC,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAYN,KAAK,CAACO,MAAlB,CAAb;AACA,QAAM,oBAAMH,MAAN,EAAc;AAAEI,IAAAA,OAAO,EAAE;AAAX,GAAd,EACDC,GADC,GAEDC,MAFC,CAEMT,IAFN,CAAN;AAGA,SAAOA,IAAP;AACH;;eAEcF,S","sourcesContent":["// Copyright 2019 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//    http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport Debug from 'debug';\nimport sharp from 'sharp';\nimport tmp from 'tmp-promise';\n\nconst debug = Debug('md2gslides');\ntmp.setGracefulCleanup();\n\nasync function renderSVG(image): Promise<string> {\n    debug('Generating SVG', image);\n    let path = await tmp.tmpName({ postfix: '.png' });\n    let buffer = Buffer.from(image.source);\n    await sharp(buffer, { density: 2400 })\n        .png()\n        .toFile(path);\n    return path;\n}\n\nexport default renderSVG;\n"],"file":"svg.js"}